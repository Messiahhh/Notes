{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{51:function(t,s,n){\"use strict\";n.r(s);var a=n(0),o=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n(\"div\",{staticClass:\"content\"},[n(\"h3\",{attrs:{id:\"es6和事件循环\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#es6和事件循环\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" ES6和事件循环\")]),n(\"h4\",{attrs:{id:\"一、javascript是单线程的，而浏览器是多线程的-解析javascript的主线程和其他的工作线程\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一、javascript是单线程的，而浏览器是多线程的-解析javascript的主线程和其他的工作线程\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 一、JavaScript是单线程的，而浏览器是多线程的(解析JavaScript的主线程和其他的工作线程)\")]),n(\"p\",[t._v(\"前半句应该很好理解，那后半句又是什么意思呢？\")]),n(\"p\",[t._v(\"那么我们先来想象一下，\"),n(\"strong\",[t._v(\"如果浏览器只有一条主线程\")]),t._v(\"（用来解析JS）会怎么样。\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[t._v(\"console\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token string\"}},[t._v('\"1\"')]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"Ajax\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token string\"}},[t._v('\"...\"')]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    console\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token string\"}},[t._v('\"2\"')]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\nconsole\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token string\"}},[t._v('\"3\"')]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),n(\"p\",[t._v(\"如果只有主线程，那么会先输出１，\"),n(\"strong\",[t._v(\"一定时间\")]),t._v(\"后接收到响应，再依次输出２、３。而这里的一段时间，就造成了浏览器的阻塞。而事实我们也是清楚的，浏览器会先依次输出１、３，等接收到响应后再输出２，现实情况是并不会发生所谓的阻塞，这就是浏览器的工作线程的功劳。\")]),n(\"p\",[t._v(\"这里先简单解释一下，当我们的主线程执行到AJAX的时候，I/O操作其实是交给了一个工作线程来处理的，这条工作线程专门用来处理AJAX，而主线程继续执行AJAX下方的代码，当工作线程中得知响应被接收了，就会通知主线程执行回调函数。（注：准确说是先放进任务队列中，晚点说）\")]),n(\"p\",[t._v(\"因此回调函数的定义也就明确了，由工作线程通知主线程，在某个时间点会调用的函数，虽然大部分情况回调函数都是作为函数参数的存在，但也存在例外，比如\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"xhr.onreadystatechange = function () {\\n    \\n}\\n\")])]),n(\"p\",[t._v(\"所以严谨来说不能说回调函数就是作为函数参数的函数。\")]),n(\"p\",[t._v(\"我们再来考虑如何用callback封装一个AJAX。\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"function AJAX(callback) {\\n    let xhr = new XMLHttpRequest()\\n    xhr.onreadystatechange = function () {\\n        if (xhr.readyState === 4 && xhr.status === 200) {\\n            let res = JSON.parse(xhr.responseText)\\n            callback(res)\\n        }\\n    }\\n    xhr.open('', '', true)\\n    xhr.send()\\n}\\n\\nAjax(function (res) {\\n    console.log(res)\\n})\\n\")])]),n(\"p\",[t._v(\"我们设外部函数自身是执行Ａ操作，内部函数是在执行Ｂ操作，那么从逻辑上看，　我们先进行了Ａ操作，在未来的某个时刻，通过回调的方式进行了Ｂ操作，因此从逻辑上是一种先后的关系。但我们实际的代码中，Ａ和Ｂ操作却是内外的包含关系，不符合直觉，特别是多层嵌套后代码难以审查维护，也就是俗称的回调地狱。所以我们需要一种优雅的方式来写异步。\")]),n(\"p\",[t._v(\"用Promise改写AJAX。\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"Ajax\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Promise\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"resolve\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" reject\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" xhr \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"XMLHttpRequest\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function-variable function\"}},[t._v(\"onreadystatechange\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"readyState \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token number\"}},[t._v(\"4\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"status \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token number\"}},[t._v(\"200\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n                \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" res \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"JSON\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"parse\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"responseText\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"resolve\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n            \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n        \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n        xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"open\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"send\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"Ajax\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    console\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \\n\")])]),n(\"p\",[t._v(\"通过Promise的方式，Ａ和Ｂ就形成了一前一后的关系，仿佛是同步的方式来写异步。\")]),n(\"p\",[t._v(\"不过人们觉得全都是then，语义上比较模糊。刚好此时又出现了Generator，虽然Generator的初衷并非异步，但人们却爱上用它来处理异步。\")]),n(\"h3\",{attrs:{id:\"generator\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#generator\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Generator\")]),n(\"h4\",{attrs:{id:\"语法\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#语法\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 语法\")]),n(\"p\",[t._v(\"Generator是种特殊的函数，让我们直接上手看下哪里特殊吧。\")]),n(\"h5\",{attrs:{id:\"函数声明\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#函数声明\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),n(\"strong\",[t._v(\"函数声明\")])]),n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"*\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"A\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"yield\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'a'\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"yield\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'b'\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'c'\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),n(\"ul\",[n(\"li\",[t._v(\"在function后面有个星号\")]),n(\"li\",[t._v(\"函数内部使用了yield关键字\")])]),n(\"h5\",{attrs:{id:\"函数调用\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#函数调用\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),n(\"strong\",[t._v(\"函数调用\")])]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"var x = A()\\nconsole.log(x)\\n\")])]),n(\"blockquote\",[n(\"p\",[t._v(\"Generator 函数的调用方法与普通函数一样，也是在函数名后面加上一对圆括号。不同的是，调用 Generator 函数后，该函数并不执行，返回的也不是函数运行结果，而是一个指向内部状态的指针对象，遍历器对象。\")])]),n(\"p\",[t._v(\"遍历器对象部署了next方法，调用next方法会返回对象，对象具有两个属性\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"x.next()\\n//{value: 'a'; done: false}\\nx.next()\\n//{value: 'b'; done: false}\\nx.next()\\n//{value: 'c'; done: true}\\n\")])]),n(\"p\",[t._v(\"从现在来看，就是可以一个函数，可以调用，暂停，调用。\")]),n(\"h5\",{attrs:{id:\"给next传递参数\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#给next传递参数\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),n(\"strong\",[t._v(\"给next传递参数\")])]),n(\"p\",[n(\"code\",[t._v(\"next\")]),t._v(\"方法可以带一个参数，该参数就会被当作上一个\"),n(\"code\",[t._v(\"yield\")]),t._v(\"表达式的返回值。\")]),n(\"p\",[t._v(\"相当于在外面改变了函数内部的行为。\")]),n(\"p\",[t._v(\"而这，也让Generator具有了代替回调地狱的功能。\")]),n(\"h4\",{attrs:{id:\"用generator实现异步\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#用generator实现异步\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 用Generator实现异步\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"Ajax\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Promise\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"resolve\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" reject\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" xhr \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"XMLHttpRequest\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function-variable function\"}},[t._v(\"onreadystatechange\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"readyState \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token number\"}},[t._v(\"4\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"status \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token number\"}},[t._v(\"200\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n                \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" res \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"JSON\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"parse\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"responseText\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"resolve\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n            \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n        \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n        xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"open\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"send\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"*\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"use\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" data \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"yield\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"Ajax\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    console\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \\n\\n\"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" obj \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"use\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\nobj\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"next\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"value\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    obj\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"next\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),n(\"p\",[t._v(\"当然，唯一不好的地方就是我们需要自己手动的调用next方法，而如果引入co模块就能完美的解决这个问题。\")]),n(\"p\",[t._v(\"引入co模块前后对比\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" obj \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"use\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\nobj\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"next\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"value\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    obj\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"next\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//引入前\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"==\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token comment\"}},[t._v(\"//引入后\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"co\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"use\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),n(\"p\",[t._v(\"没错，co模块就是这么简单粗暴。\")]),n(\"p\",[t._v(\"co模块的代码原理类似如下\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"co\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"gen\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" g \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"gen\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n  \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"next\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" result \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" g\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"next\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"result\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"done\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" result\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"value\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    result\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"value\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"next\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n  \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"next\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"co\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"gen\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),n(\"h3\",{attrs:{id:\"async\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#async\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Async\")]),n(\"h4\",{attrs:{id:\"语法-2\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#语法-2\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 语法\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"async\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"A\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" data1 \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"await\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"Ajax\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" data2 \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"await\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"Ajax\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" data2\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),n(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"A\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"then\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    console\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),n(\"p\",[t._v(\"其实async可以看成Generator + co的集成，不同的是关键字分别用async和await代替了*和yield，　更加的语义化。除此之外，async函数会返回一个Promise对象。\")]),n(\"h5\",{attrs:{id:\"用async实现ajax封装\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#用async实现ajax封装\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 用Async实现Ajax封装\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"Ajax\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Promise\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"resolve\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" reject\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=>\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" xhr \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"XMLHttpRequest\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function-variable function\"}},[t._v(\"onreadystatechange\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n            \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"readyState \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token number\"}},[t._v(\"4\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"status \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token number\"}},[t._v(\"200\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n                \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" res \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token constant\"}},[t._v(\"JSON\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"parse\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"responseText\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n                \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"resolve\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"res\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n            \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n        \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n        xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"open\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token boolean\"}},[t._v(\"true\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        xhr\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"send\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"async\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"use\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"let\")]),t._v(\" data \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"await\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"Ajax\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"''\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    console\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"log\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"use\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])]),n(\"h3\",{attrs:{id:\"demo，-来判断输出的顺序\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#demo，-来判断输出的顺序\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" demo，　来判断输出的顺序\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"//demo1\\n\\nsetTimeout(function(){\\n\\tconsole.log(1)\\n}, 0);\\nnew Promise(function(resolve){\\n    console.log(2)\\n    resolve()\\n    console.log(3)\\n}).then(function(){\\n    console.log(4)\\n});\\nconsole.log(5);\\n\\n\\n\\n\\n//demo2\\n\\nconsole.log(1);\\n\\nsetTimeout(function() {\\n  console.log(2);\\n}, 10);\\n\\nnew Promise(resolve => {\\n    console.log(3);\\n    resolve();\\n    setTimeout(() => console.log(4), 10);\\n}).then(function() {\\n    console.log(5)\\n})\\n\\nconsole.log(6);\\n\\n\\n//demo3\\n\\nnew Promise(resolve => {\\n    resolve(1);\\n    Promise.resolve().then(() => console.log(2));\\n    console.log(3)\\n}).then(t => console.log(t));\\nconsole.log(4);\\n\")])]),n(\"h3\",{attrs:{id:\"class-语法\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#class-语法\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" class 语法\")]),n(\"p\",[t._v(\"在es5中，想写一个类，必须要这样写。\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"Point\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"x\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" y\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"x \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" x\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"y \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" y\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\nPoint\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"prototype\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{attrs:{class:\"token function-variable function\"}},[t._v(\"toString\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'('\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"x \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"', '\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"y \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"')'\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])]),n(\"p\",[t._v(\"在es6中，引入了class关键字，不过说到底这只是一个es5的语法糖而已。\")]),n(\"p\",[t._v(\"用es6语法改些上面的类\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token class-name\"}},[t._v(\"Point\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"constructor\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"x\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" y\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"x \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" x\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"y \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" y\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n  \"),n(\"span\",{attrs:{class:\"token function\"}},[t._v(\"toString\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"'('\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"x \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"', '\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"y \"),n(\"span\",{attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),n(\"span\",{attrs:{class:\"token string\"}},[t._v(\"')'\")]),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])]),n(\"p\",[t._v(\"静态方法\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"class Foo {\\n  static classMethod() {\\n    return 'hello';\\n  }\\n}\\n//等价于\\nfunction Foo () {}\\nFoo.classMethod = function () {\\n    \\n}\\n\")])]),n(\"h4\",{attrs:{id:\"继承\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#继承\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 继承\")]),n(\"p\",[t._v(\"es5\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"function People (name, age) {\\n\\tthis.name = name\\n\\tthis.age = age\\n}\\n\\nPeople.prototype.getName = function () {\\n\\tconsole.log(this.name)\\n}\\n\\nfunction Student (name, age, id) {\\n\\tPeople.call(this, name, age)\\n\\tthis.id = id\\n}\\n\\nStudent.prototype.__proto__ = People.prototype\\nStudent.prototype.getId = function () {\\n    console.log(this.id)\\n}\\n\")])]),n(\"p\",[t._v(\"es6\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"class People {\\n    constructor(name, age) {\\n        this.name = name\\n        this.age = age\\n    }\\n    \\n    getName () {\\n        console.log(this.name)\\n    }\\n}\\n\\nclass Student extends People {\\n    constructor (name, age, id) {\\n        super(name, age)\\n        this.id = id\\n    }\\n    \\n    getId () {\\n    \\tconsole.log(this.id)\\n    }\\n}\\n\")])]),n(\"h3\",{attrs:{id:\"模块化\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#模块化\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 模块化\")]),n(\"p\",[t._v(\"什么是模块化？为什么要模块化？举个最简单的例子，如果你写了一个库提供给其他人用，那么你所期待的是不会污染变量，只提供唯一的一个接口。比如引入jquery库的话，你就只需要接触$这个变量了， 也不用怕其他的细枝末节。\")]),n(\"h5\",{attrs:{id:\"立即执行函数\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#立即执行函数\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 立即执行函数\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"(function () {\\n\\twindow.$ = xxx\\n})()\\n\")])]),n(\"p\",[t._v(\"别人只需要把你的代码引入即可。\")]),n(\"h5\",{attrs:{id:\"amd模块化\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#amd模块化\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" AMD模块化\")]),n(\"p\",[t._v(\"想使用AMD模块化必须先引入require.js这个包。\")]),n(\"p\",[t._v(\"使用\"),n(\"strong\",[t._v(\"define\")]),t._v(\"定义模块，使用\"),n(\"strong\",[t._v(\"require\")]),t._v(\"加载模块。\")]),n(\"h5\",{attrs:{id:\"commonjs规范\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#commonjs规范\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" Commonjs规范\")]),n(\"p\",[t._v(\"js文件就是模块，使用module.exports来设置对外暴露的值\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"//test.js\\nfunction A() {\\n\\tconsole.log('hello node')\\n}\\n\\nmodule.exports = A\\n\")])]),n(\"p\",[t._v(\"引入模块则使用require关键字（注：和AMD里的require不同）\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"//app.js (和test.js在一个目录下)\\n\\nlet A = require('./test.js')\\n\\nA()//'hello node'\\n\")])]),n(\"h6\",{attrs:{id:\"问题1：-module到底是什么，module-exports和exports有什么区别？\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题1：-module到底是什么，module-exports和exports有什么区别？\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 问题1： module到底是什么，module.exports和exports有什么区别？\")]),n(\"p\",[t._v(\"其实module和exports可以理解成一个js文件自带的对象，module.exports和exports这两个对象保存的地址是相等的，指向堆内存中的一部分。\")]),n(\"p\",[t._v(\"我们可以实验一下，新建文件test.js\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"console.log(module);\\nconsole.log(exports);\\nconsole.log(module.exports === exports);\\n\\n$node test.js\\nModule {\\n  id: '.',\\n  exports: {},\\n  parent: null,\\n  filename: 'C:\\\\\\\\messiah\\\\\\\\test.js',\\n  loaded: false,\\n  children: [],\\n  paths: [ 'C:\\\\\\\\messiah\\\\\\\\node_modules', 'C:\\\\\\\\node_modules' ] }\\n  {}\\n  true\\n\")])]),n(\"h6\",{attrs:{id:\"问题2：require函数到底做了什么？\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#问题2：require函数到底做了什么？\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" 问题2：require函数到底做了什么？\")]),n(\"p\",[t._v(\"其实就是把被require的js文件中的代码放进了一个立即执行函数里，并return module.exports\")]),n(\"p\",[t._v(\"比如test.js文件如下\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"var a = {\\n    name: 'xiaoming',\\n    age: 16\\n}\\n\\nvar b = '123';\\n\\n\")])]),n(\"p\",[t._v(\"1.js文件如下\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"var a = require('./test.js');\\n\")])]),n(\"p\",[t._v(\"那么，1.js文件可以看成\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"var a = (function() {\\n    var a = {\\n        name: 'xiaoming',\\n        age: 16\\n    }\\n\\n    var b = '123';\\n    \\n    return module.exports;\\n})()\\n\\n\")])]),n(\"p\",[t._v(\"这里也解释了为什么不要直接给exports赋值。因为我们知道，对象中保存的其实是指向堆内存中内存的地址。\")]),n(\"p\",[t._v(\"补充：一般模块分为核心模块，第三方模块，本地模块。\")]),n(\"p\",[t._v(\"核心模块比如http, fs, url等模块。第三方模块比如pm2 mysql等，第三方模块可以全局安装（npm install pm2 -g）和本地安装（npm install pm2）。本地模块就是自己写的模块。\")]),n(\"p\",[t._v(\"当我们require模块的时候，加不加路径也是有区别的。\")]),n(\"p\",[t._v(\"如果我们不加路径，比如require('http')，Node会依次在内置模块、全局模块和当前模块下查找模块。\")]),n(\"p\",[t._v(\"加路径一般都是用来加载本地模块，比如require('./test')\")]),n(\"h5\",{attrs:{id:\"umd\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#umd\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" UMD\")]),n(\"p\",[t._v(\"上面提到了三种模块化的方案，那么如果能综合一下就好了，因此有了UMD模块化，结构一般如下。\")]),n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"(function (root, factory) {\\n    if (typeof define === 'function' && define.amd) {\\n        // AMD\\n        define(['jquery'], factory);\\n    } else if (typeof exports === 'object') {\\n        // Node, CommonJS之类的\\n        module.exports = factory(require('jquery'));\\n    } else {\\n        // 浏览器全局变量(root 即 window)\\n        root.returnExports = factory(root.jQuery);\\n    }\\n}(this, function ($) {\\n    //    方法\\n    function myFunc(){};\\n \\n    //    暴露公共方法\\n    return myFunc;\\n}));\\n\")])]),n(\"h5\",{attrs:{id:\"es6模块\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#es6模块\",\"aria-hidden\":\"true\"}},[t._v(\"#\")]),t._v(\" ES6模块\")]),n(\"p\",[t._v(\"模块功能主要由两个命令构成：\"),n(\"code\",[t._v(\"export\")]),t._v(\"和\"),n(\"code\",[t._v(\"import\")]),t._v(\"。\"),n(\"code\",[t._v(\"export\")]),t._v(\"命令用于规定模块的对外接口，\"),n(\"code\",[t._v(\"import\")]),t._v(\"命令用于输入其他模块提供的功能。是未来的方向，不过现在也不能直接用，需要用babel编译后才行。\")]),n(\"p\",[t._v(\"遍历器接口　扩展运算符　for...of 　　　set map\")]),n(\"p\",[t._v(\"参考\")]),n(\"p\",[n(\"a\",{attrs:{href:\"http://es6.ruanyifeng.com/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ECMAScript6入门-阮一峰\")])]),n(\"p\",[t._v(\"[\"),n(\"a\",{attrs:{href:\"https://segmentfault.com/a/1190000004322358\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"JavaScript：彻底理解同步、异步和事件循环(Event Loop)\")]),t._v(\"](https://segmentfault.com/a/1190000004322358)\")]),n(\"p\",[n(\"a\",{attrs:{href:\"http://www.ruanyifeng.com/blog/2012/10/asynchronous_module_definition.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"模块化-阮一峰\")])]),n(\"p\",[n(\"a\",{attrs:{href:\"http://web.jobbole.com/82238/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"模块化-伯乐园\")])]),n(\"p\",[n(\"a\",{attrs:{href:\"https://zhuanlan.zhihu.com/p/26898693\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"Commonjs\")])])])}],!1,null,null,null);s.default=o.exports}}]);","extractedComments":[]}